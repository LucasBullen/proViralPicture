function publishFacebook(){
    console.log('dentro publish');

    var dataURL = canvas.toDataURL('image/png');
    var onlyData = dataURL.substring(dataURL.indexOf(',')+1);
    var decoded = atob(onlyData);

    var dl = decoded.length;

    var buffer = new Uint8Array(dl);

    for (var i = 0; i < dl; i++) {
        buffer[i] = decoded.charCodeAt(i);
    };

    var blob = new Blob([buffer], {type: 'image/png'});

    var formData = new FormData();

    formData.append('source', blob);
    formData.append('message', 'Whatever message we decide');

    FB.api('/me/photos', 'POST', formData, function(resp) {
        console.log('into function');
        if (resp && !resp.error) {
            console.log('uploaded');
            console.log(resp);
        } else {
            console.log('some error');
            console.log(resp.error);
        };
    });
};
